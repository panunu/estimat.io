<html>
<head>
    <title>Lusspoker by Fraktio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="assets/css/font-awesome.min.css" rel="stylesheet">
    <link href="assets/less/planning.less" rel="stylesheet" type="text/less">
    <link href="//fonts.googleapis.com/css?family=Patua+One" rel="stylesheet" type="text/css">

    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="assets/js/less-1.3.3.min.js"></script>
    <script src="assets/js/socket.io.min.js"></script>
</head>
<body>

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span6">
            <div id="card">
                <div class="value">
                    9000
                    <div class="extra">Say something. Lus?</div>
                </div>
            </div>
        </div>

        <div id="info" class="span6">
            <div class="row-fluid">
                <div class="span4">
                    Average
                    <div class="data">1337</div>
                </div>

                <div class="span4">
                    Minimum
                    <div class="data">1</div>
                </div>

                <div class="span4">
                    Maximum
                    <div class="data">9000</div>
                </div>
            </div>

            <div class="row-fluid add-top">
                <div class="span12">
                    Participants
                    <div id="participants" class="data"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    var socket = io.connect('http://app.planning.tunk.io', { port: 3000 });

    socket.on('participants', function(count) {
        if ($('#participants .icon-user').size() == count) {
            return;
        }

        $('#participants .icon-user').remove();

        for (var i = 0; i < count; i++) {
            $('#participants').append('<i class="icon-user"></i> ').hide().fadeIn();
        }
    });

    $('#card').on('click', function(e) {
        socket.emit('ready', true);
    });

    socket.on('ready', function(ready) {
        if (ready) {
            alert('READY YEAH');
        }
    });
</script>

</body>
</html>